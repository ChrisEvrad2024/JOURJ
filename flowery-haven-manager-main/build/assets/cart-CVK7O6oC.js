const o="cart";function c(){try{const t=localStorage.getItem(o);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to parse cart from localStorage:",t),[]}}function s(t){try{localStorage.setItem(o,JSON.stringify(t))}catch(r){console.error("Failed to save cart to localStorage:",r)}}function i(t,r=1){const e=c(),a=e.findIndex(n=>n.product.id===t.id);a!==-1?e[a].quantity+=r:e.push({product:t,quantity:r}),s(e)}function l(){return c().reduce((r,e)=>r+e.quantity,0)}export{i as a,l as g};
