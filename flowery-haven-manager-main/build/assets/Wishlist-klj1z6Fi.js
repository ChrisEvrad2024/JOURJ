import{r as d,j as e,N as g,B as c,S as h,H as u,L as l,X as j,F as v,J as r}from"./index-D2Ipw2YP.js";import{a as w}from"./cart-CVK7O6oC.js";import{A as f,a as b,b as N,c as A,d as C,e as E,f as y,g as D,h as T}from"./alert-dialog-IJ8aKrw7.js";import{T as k}from"./trash-2-BNQ_4_77.js";import"./index-BycQlkId.js";const o=()=>{const t=localStorage.getItem("wishlist");return t?JSON.parse(t):[]},z=t=>{const i=o();localStorage.setItem("wishlist",JSON.stringify(i.filter(a=>a.id!==t))),window.dispatchEvent(new Event("wishlistUpdated"))},S=()=>{localStorage.setItem("wishlist",JSON.stringify([])),window.dispatchEvent(new Event("wishlistUpdated"))},U=()=>{const[t,i]=d.useState([]);d.useEffect(()=>{const s=()=>{const x=o();i(x)};return s(),window.addEventListener("storage",s),window.addEventListener("wishlistUpdated",s),()=>{window.removeEventListener("storage",s),window.removeEventListener("wishlistUpdated",s)}},[]);const a=s=>{z(s),i(o()),r.info("Produit retiré",{description:"Le produit a été retiré de votre wishlist",duration:3e3})},n=s=>{w({id:s.id,name:s.name,price:s.price,images:[s.image],description:"Ajouté depuis la wishlist",category:"unknown",popular:!1},1),window.dispatchEvent(new Event("cartUpdated")),r.success("Produit ajouté",{description:"Le produit a été ajouté à votre panier",duration:3e3})},m=()=>{S(),i([]),r.info("Wishlist vidée",{description:"Tous les produits ont été retirés de votre wishlist",duration:3e3})},p=()=>{t.forEach(s=>{n(s)}),r.success("Tous les produits ajoutés",{description:"Tous les produits de votre wishlist ont été ajoutés au panier",duration:3e3})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("main",{className:"pt-32 pb-16 min-h-screen",children:e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-serif",children:"Votre Wishlist"}),t.length>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:p,className:"flex items-center gap-2",children:[e.jsx(h,{size:16}),e.jsx("span",{children:"Tout ajouter au panier"})]}),e.jsxs(f,{children:[e.jsx(b,{asChild:!0,children:e.jsxs(c,{variant:"destructive",size:"sm",className:"flex items-center gap-2",children:[e.jsx(k,{size:16}),e.jsx("span",{children:"Vider la wishlist"})]})}),e.jsxs(N,{children:[e.jsxs(A,{children:[e.jsx(C,{children:"Êtes-vous sûr ?"}),e.jsx(E,{children:"Cette action va supprimer tous les produits de votre wishlist. Cette action est irréversible."})]}),e.jsxs(y,{children:[e.jsx(D,{children:"Annuler"}),e.jsx(T,{onClick:m,children:"Confirmer"})]})]})]})]})]}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex justify-center items-center p-6 bg-muted rounded-full mb-6",children:e.jsx(u,{size:32,className:"text-muted-foreground"})}),e.jsx("h2",{className:"text-xl font-serif mb-4",children:"Votre wishlist est vide"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Ajoutez des produits à votre wishlist pour les retrouver plus tard."}),e.jsx(l,{to:"/catalog",className:"btn-primary inline-flex",children:"Découvrir nos produits"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-muted/40 p-4 rounded-lg mb-6 flex items-center",children:[e.jsx(u,{size:18,className:"text-primary mr-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:t.length})," ",t.length>1?"produits":"produit"," dans votre wishlist"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(s=>e.jsxs("div",{className:"group relative bg-background border border-border rounded-lg overflow-hidden transition-all hover:shadow-md",children:[e.jsx("div",{className:"absolute top-3 right-3 z-10 flex space-x-2",children:e.jsx("button",{onClick:()=>a(s.id),className:"p-1.5 bg-white/80 backdrop-blur-sm rounded-full text-foreground hover:text-destructive transition-colors","aria-label":"Retirer de la wishlist",children:e.jsx(j,{size:16})})}),e.jsx(l,{to:`/product/${s.id}`,className:"block aspect-square bg-muted",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"})}),e.jsxs("div",{className:"p-4",children:[e.jsx(l,{to:`/product/${s.id}`,className:"block",children:e.jsx("h3",{className:"font-medium mb-1 group-hover:text-primary transition-colors",children:s.name})}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"font-medium",children:[s.price.toFixed(2)," XAF"]}),e.jsx("button",{onClick:()=>n(s),className:"p-2 bg-primary/10 text-primary rounded-full hover:bg-primary hover:text-white transition-colors","aria-label":"Ajouter au panier",children:e.jsx(h,{size:16})})]})]})]},s.id))})]})]})}),e.jsx(v,{})]})};export{U as default};
