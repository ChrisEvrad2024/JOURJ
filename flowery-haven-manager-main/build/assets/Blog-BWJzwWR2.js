import{i as Q,u as W,c as q,r as t,j as e,N as H,B as c,A as Y,Y as D,$ as j,ae as $,I as G,a1 as F,a2 as I,a3 as U,a4 as g,F as J}from"./index-D2Ipw2YP.js";import{C as K,a as X,b as Z,d as _,c as ee,e as se}from"./card-CcKSh10K.js";import{T as ae,a as te,b as d,c as le}from"./tabs-BkT1Db25.js";import{a as re,s as ce,b as ie,g as ne}from"./blog-DN9nGdDB.js";import{C as oe}from"./calendar-DcxNRdDE.js";import{T as y}from"./tag-kkqM9wwa.js";import{F as de}from"./filter-CPbTBQz0.js";import{f as me}from"./fr-BSv8k3uD.js";import{f as xe}from"./format-BxPkkDNt.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=Q("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),be=()=>{const[T,l]=W();q();const f=T.get("id"),m=T.get("tag"),[x,P]=t.useState("all"),[i,n]=t.useState(m||""),[o,k]=t.useState(""),[a,h]=t.useState(null);t.useState(!1);const[u,E]=t.useState("date"),z=ne(),V=re(),p=z.filter(s=>{var A,B;const r=x==="all"||s.category===x,w=i===""||((A=s.tags)==null?void 0:A.some(b=>b.toLowerCase()===i.toLowerCase())),C=o===""||s.title.toLowerCase().includes(o.toLowerCase())||s.excerpt.toLowerCase().includes(o.toLowerCase())||((B=s.tags)==null?void 0:B.some(b=>b.toLowerCase().includes(o.toLowerCase())));return r&&w&&C}),S=ce(p,u),R=s=>{h(s),l({id:s.id.toString()}),window.scrollTo({top:0,behavior:"smooth"})};t.useEffect(()=>{if(f){const s=ie(Number(f));s?h(s):l({})}},[f,l]),t.useEffect(()=>{m&&n(m)},[m]);const O=()=>{h(null),n(""),l({})},v=s=>{n(s),l({tag:s}),h(null)},L=()=>{n(""),l({})},N=s=>{E(s)},M=s=>{try{return xe(new Date(s),"dd MMMM yyyy",{locale:me})}catch{return s}};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(H,{}),e.jsx("div",{className:"pt-24 pb-16 container mx-auto px-4",children:a?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(c,{variant:"ghost",onClick:O,className:"mb-6 flex items-center gap-1",children:[e.jsx(Y,{size:16}),"Retour aux articles"]}),e.jsx("div",{className:"rounded-lg overflow-hidden mb-8",children:e.jsx("img",{src:a.imageUrl,alt:a.title,className:"w-full h-[400px] object-cover"})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-serif mb-4",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{size:16}),e.jsx("span",{children:M(a.date)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{size:16}),e.jsx("span",{children:a.author})]}),e.jsx(j,{variant:"outline",className:"ml-auto",children:a.category})]}),e.jsx("p",{className:"text-lg font-medium mb-6",children:a.excerpt}),e.jsx("div",{className:"prose prose-stone max-w-none",children:e.jsx("p",{className:"whitespace-pre-line",children:a.content})})]}),a.tags&&a.tags.length>0&&e.jsxs("div",{className:"mt-8 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(y,{size:16}),e.jsx("span",{className:"font-medium",children:"Tags:"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((s,r)=>e.jsx(j,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/80",onClick:()=>{v(s)},children:s},r))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl font-serif mb-4",children:"Notre Blog"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Découvrez nos articles sur l'univers des fleurs, des conseils d'entretien et les dernières tendances florales."})]}),e.jsx("div",{className:"mb-8 max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),e.jsx(G,{type:"search",placeholder:"Rechercher un article...",value:o,onChange:s=>k(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[i&&e.jsxs(c,{variant:"outline",size:"sm",onClick:L,className:"flex items-center gap-1",children:[e.jsx(y,{size:14}),i," ×"]}),e.jsxs(F,{children:[e.jsx(I,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(de,{size:14}),"Filtrer par tags"]})}),e.jsx(U,{align:"end",className:"max-h-[300px] overflow-y-auto",children:V.map(s=>e.jsx(g,{onClick:()=>v(s),className:"capitalize",children:s},s))})]}),e.jsxs(F,{children:[e.jsx(I,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(he,{size:14}),"Trier"]})}),e.jsxs(U,{align:"end",children:[e.jsx(g,{onClick:()=>N("date"),className:u==="date"?"bg-accent":"",children:"Date de publication"}),e.jsx(g,{onClick:()=>N("popularity"),className:u==="popularity"?"bg-accent":"",children:"Popularité"}),e.jsx(g,{onClick:()=>N("title"),className:u==="title"?"bg-accent":"",children:"Titre"})]})]})]})]})}),e.jsxs(ae,{defaultValue:"all",value:x,onValueChange:P,className:"mb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs(te,{children:[e.jsx(d,{value:"all",children:"Tous"}),e.jsx(d,{value:"conseils",children:"Conseils"}),e.jsx(d,{value:"tendances",children:"Tendances"}),e.jsx(d,{value:"evenements",children:"Événements"}),e.jsx(d,{value:"inspiration",children:"Inspiration"})]})}),e.jsxs(le,{value:x,className:"mt-8",children:[i&&e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:16}),e.jsxs("p",{className:"text-lg font-medium",children:["Articles tagués: ",e.jsx("span",{className:"font-bold capitalize",children:i})]})]}),e.jsx(c,{variant:"ghost",size:"sm",onClick:L,children:"Supprimer le filtre"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[S.map(s=>e.jsxs(K,{className:"overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"h-56 overflow-hidden",children:e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),e.jsxs(X,{className:"flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:M(s.date)}),e.jsx(j,{variant:"outline",className:"capitalize",children:s.category})]}),e.jsx(Z,{className:"font-serif",children:s.title}),e.jsxs(_,{children:["Par ",s.author]})]}),e.jsxs(ee,{children:[e.jsx("p",{className:"line-clamp-3",children:s.excerpt}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:s.tags.map((r,w)=>e.jsx(j,{variant:"secondary",className:"text-xs cursor-pointer",onClick:C=>{C.stopPropagation(),v(r)},children:r},w))})]}),e.jsxs(se,{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(D,{size:12}),s.viewCount||0," vues"]}),e.jsx(c,{variant:"ghost",onClick:()=>R(s),children:"Lire l'article"})]})]},s.id)),S.length===0&&e.jsx("div",{className:"col-span-3 text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Aucun article trouvé pour cette recherche."})})]})]})]}),p.length>0&&p.length<z.length&&e.jsx("div",{className:"mt-10 text-center",children:e.jsx(c,{onClick:()=>{P("all"),n(""),k(""),l({})},children:"Voir tous les articles"})})]})}),e.jsx(J,{})]})};export{be as default};
